"use strict";window.onload=function(){var e=document.getElementsByClassName("banner_con--hover"),a=document.getElementsByClassName("twomeum"),t=document.getElementsByClassName("yingcang")[0],n=document.getElementsByClassName(" banner_con")[0];options(e,a),levelMeum(t,n),meumscroll();document.getElementsByClassName("mainl-ul1")[0];for(var s=document.getElementsByClassName("ul1-li"),l=document.getElementsByClassName("ul1-ul"),i=0;i<s.length;i++)s[i].index=i,s[i].onmouseover=function(){console.log(this.index),l[this.index].style.display="block"},s[i].onmouseout=function(){l[this.index].style.display="none"};function c(e){var a=e.map(function(e){return'<li class="list-li" data-id="'+e.id+'">\n                        <img src="'+e.img1+'" alt="" class="list-li-img">\n                        <p class="listli-p1">¥'+e.price+'</p>\n                        <p class="listli-p2">'+e.name+'</p>\n                        <p class="listli-p3">已有'+e.people+'人评价\n                            <i>自营</i>\n                        </p>\n                        <div class="amount_box fl">\n                            <a href="javascript:;" class="reduce reSty cutnum">-</a>\n                            <input type="text" value="1" class="sum">\n                            <a href="javascript:;" class="plus addnum">+</a>\n                        </div>\n                        <div class="listli-car fl">\n                            <i></i>\n                            加入购物车\n                        </div>\n                    </li>'}).join("");r.innerHTML=a;var t=document.getElementById("list"),o=cookie.get("user");t.onclick=function(e){if(0<=e.target.className.indexOf("listli-car")){var n=e.target.parentNode.getAttribute("data-id"),s=e.target.parentNode.getElementsByClassName("listli-p1")[0].innerText.slice(1),l=e.target.parentNode.getElementsByClassName("sum")[0].value;ajax("post","../api/07car.php","name="+o,function(e){if(0<=JSON.parse(e).map(function(e){return e.id}).indexOf(n)){var a="../api/09changenum.php",t="id="+n+"&changenum="+l;ajax("post",a,t,function(e){e&&alert("已成功加入购物车！")})}else{a="../api/08addcar.php",t="goodsid="+n+"&name="+o+"&goodsnum="+l+"&oneprice="+s;ajax("post",a,t,function(e){e&&alert("已成功加入购物车！")})}})}if(e.target.className&&0<=e.target.className.indexOf("addnum")){var a=e.target.parentNode.getElementsByClassName("sum")[0],t=a.value;t++,a.value=t}if(e.target.className&&0<=e.target.className.indexOf("cutnum")){var i=e.target.parentNode.getElementsByClassName("sum")[0],c=i.value;--c<=1&&(c=1),i.value=c}};document.getElementsByClassName("listli-car")[0],e[0].price,e[0].id,o=cookie.get("user");var n=r.getElementsByClassName("list-li-img");console.log(n);for(var s=0;s<n.length;s++)n[s].onclick=function(){console.log(this.parentNode.getAttribute("data-id"));var e=this.parentNode.getAttribute("data-id");location.href="goods.html?id="+e}}var r=getid("list"),o=getid("page"),m="../api/04list.php";ajax("post",m,"page=1&num=32",function(e){var a=JSON.parse(e);console.log(a),c(a.data);for(var t=Math.ceil(a.total/a.num),n="",s=0;s<t;s++)n+="<span>"+(s+1)+"</span>";o.innerHTML=n,o.children[0].className="active"});var d=!(o.onclick=function(t){if("span"==(t=t||window.event).target.tagName.toLowerCase()){var e=t.target.innerHTML;if(console.log(e),1==d){u(e);for(var a=0;a<o.children.length;a++)o.children[a].className="";t.target.className="active"}else{ajax("post",m,"page="+e+"&num=32",function(e){c(JSON.parse(e).data);for(var a=0;a<o.children.length;a++)o.children[a].className="";t.target.className="active"})}}});function u(e){ajax("post","../api/04list.php","page="+e+"&num=32&pai=paixu",function(e){console.log(e),c(JSON.parse(e).data);for(var a=0;a<o.children.length;a++)o.children[a].className="";ev.target.className="active"})}document.getElementById("pricechange").onclick=function(){d=!0,u(1);for(var e=0;e<o.children.length;e++)o.children[e].className="";ev.target.className="active"}};